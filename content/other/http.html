<h2 class="page-header">1.ä¸€å…±æœ‰å››ç§æ‹¦æˆªå™¨ï¼Œä¸¤ç§æˆåŠŸæ‹¦æˆªå™¨ï¼Œä¸¤ç§å¤±è´¥æ‹¦æˆªå™¨ã€‚</h2>
<div class="table-responsive">
	<table class="table table-bordered">
		<thead class="bg-primary">
			<tr>
				<th class="col-xs-1"></th>
				<th class="text-center">æˆåŠŸæ‹¦æˆª</th>
				<th class="text-center">å¤±è´¥æ‹¦æˆª</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td class="text-center bg-primary">è¯·æ±‚</td>
				<td>
					<table class="table table-bordered">
						<tbody>
							<tr>
								<td>request </td>
								<td>AngularJSé€šè¿‡$httpè®¾ç½®å¯¹è±¡æ¥å¯¹è¯·æ±‚æ‹¦æˆªå™¨è¿›è¡Œè°ƒç”¨ã€‚å®ƒå¯ä»¥å¯¹è®¾ç½®å¯¹è±¡è¿›è¡Œä¿®æ”¹ï¼Œæˆ–è€…åˆ›å»ºä¸€ä¸ªæ–°çš„è®¾ç½®å¯¹è±¡ï¼Œå®ƒéœ€è¦è¿”å›ä¸€ä¸ªæ›´æ–°è¿‡çš„è®¾ç½®å¯¹è±¡ï¼Œæˆ–è€…ä¸€ä¸ªå¯ä»¥è¿”å›æ–°çš„è®¾ç½®å¯¹è±¡çš„promiseã€‚ </td>
							</tr>
						</tbody>
					</table>
				</td>
				<td>
					<table class="table table-bordered">
						<tbody>
							<tr>
								<td>requestError </td>
								<td>AngularJSä¼šåœ¨ä¸Šä¸€ä¸ªè¯·æ±‚æ‹¦æˆªå™¨æŠ›å‡ºé”™è¯¯ï¼Œæˆ–è€…promiseè¢«rejectæ—¶è°ƒç”¨æ­¤æ‹¦æˆªå™¨ã€‚</td>
							</tr>
						</tbody>
					</table>
				</td>
			</tr>
			<tr>
				<td class="text-center bg-primary">å“åº”</td>
				<td>
					<table class="table table-bordered">
						<tbody>
							<tr>
								<td>response </td>
								<td>AngularJSé€šè¿‡$httpè®¾ç½®å¯¹è±¡æ¥å¯¹å“åº”æ‹¦æˆªå™¨è¿›è¡Œè°ƒç”¨ã€‚å®ƒå¯ä»¥å¯¹å“åº”è¿›è¡Œä¿®æ”¹ï¼Œæˆ–è€…åˆ›å»ºä¸€ä¸ªæ–°çš„å“åº”ï¼Œå®ƒéœ€è¦è¿”å›ä¸€ä¸ªæ›´æ–°è¿‡çš„å“åº”ï¼Œæˆ–è€…ä¸€ä¸ªå¯ä»¥è¿”å›æ–°å“åº”çš„promiseã€‚ </td>
							</tr>
						</tbody>
					</table>
				</td>
				<td>
					<table class="table table-bordered">
						<tbody>
							<tr>
								<td>responseError </td>
								<td>AngularJSä¼šåœ¨ä¸Šä¸€ä¸ªå“åº”æ‹¦æˆªå™¨æŠ›å‡ºé”™è¯¯ï¼Œæˆ–è€…promiseè¢«rejectæ—¶è°ƒç”¨æ­¤æ‹¦æˆªå™¨ã€‚ </td>
							</tr>
						</tbody>
					</table>
				</td>
			</tr>
		</tbody>
	</table>
</div>

<h2 class="page-header">2.æ‹¦æˆªå™¨çš„ä½œç”¨</h2>
<p>ä¸ºè¯·æ±‚æ·»åŠ å…¨å±€åŠŸèƒ½ï¼Œä¾‹å¦‚èº«ä»½éªŒè¯ã€é”™è¯¯å¤„ç†ç­‰ï¼Œåœ¨è¯·æ±‚å‘é€ç»™æœåŠ¡å™¨ä¹‹å‰æˆ–è€…ä»æœåŠ¡å™¨è¿”å›æ—¶å¯¹å…¶è¿›è¡Œæ‹¦æˆªï¼›</p>

<h2 class="page-header">3.åŸç†</h2>
<p>æ‹¦æˆªå™¨çš„æ ¸å¿ƒæ˜¯æœåŠ¡å·¥å‚ï¼Œé€šè¿‡å‘ $httpProvider.interceptors æ•°ç»„ä¸­æ·»åŠ æœåŠ¡å·¥å‚ï¼Œåœ¨$httpProviderä¸­è¿›è¡Œæ³¨å†Œã€‚</p>

<h2 class="page-header">4.ä½œç”¨å¯¹è±¡</h2>
<p>é’ˆå¯¹çš„æ˜¯ $http æœåŠ¡</p>

<h2 class="page-header">5.ä»£ç ç¤ºä¾‹</h2>
<pre>
 app.factory('myInterceptor', function($q) {
	var interceptor = {
		request: function(config) {
			// æˆåŠŸçš„è¯·æ±‚æ–¹æ³•
			console.log("æ‹¦æˆªæˆåŠŸçš„è¯·æ±‚ğŸ˜€");
			return config; // æˆ–è€… $q.when(config);
		},
		response: function(response) {
			// å“åº”æˆåŠŸ
			console.log("æ‹¦æˆªæˆåŠŸçš„å“åº”ğŸ˜");
			return response; // æˆ–è€… $q.when(config);
		},
		requestError: function(rejection) {
			// è¯·æ±‚å‘ç”Ÿäº†é”™è¯¯ï¼Œå¦‚æœèƒ½ä»é”™è¯¯ä¸­æ¢å¤ï¼Œå¯ä»¥è¿”å›ä¸€ä¸ªæ–°çš„è¯·æ±‚æˆ–promise
			console.log("æ‹¦æˆªå¤±è´¥çš„è¯·æ±‚ğŸ˜¥");
			return response; // æˆ–æ–°çš„promise
			// æˆ–è€…ï¼Œå¯ä»¥é€šè¿‡è¿”å›ä¸€ä¸ªrejectionæ¥é˜»æ­¢ä¸‹ä¸€æ­¥
			// return $q.reject(rejection);
		},
		responseError: function(rejection) {
			// è¯·æ±‚å‘ç”Ÿäº†é”™è¯¯ï¼Œå¦‚æœèƒ½ä»é”™è¯¯ä¸­æ¢å¤ï¼Œå¯ä»¥è¿”å›ä¸€ä¸ªæ–°çš„å“åº”æˆ–promise
			console.log("æ‹¦æˆªå¤±è´¥çš„å“åº”ğŸ˜°");
			return rejection; // æˆ–æ–°çš„promise
			// æˆ–è€…ï¼Œå¯ä»¥é€šè¿‡è¿”å›ä¸€ä¸ªrejectionæ¥é˜»æ­¢ä¸‹ä¸€æ­¥
			// return $q.reject(rejection);
		}
	};
	return interceptor;
});

app.config(function($httpProvider) {
	$httpProvider.interceptors.push('myInterceptor');
});

app.controller("interceptorsController",["$scope","$http",function($scope,$http){
	
	var promise = $http({
		method: "GET",
		url: "https://api.github.com/users/octocat"
	});
	
	promise.success(function(data){
		console.log(data);
	}).error(function(data,status){
		console.log("çŠ¶æ€ç ï¼š"+status);
	});
	
}]);
</pre>
